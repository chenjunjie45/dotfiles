"use strict";var x=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var U=Object.prototype.hasOwnProperty;var G=(s,r)=>{for(var e in r)x(s,e,{get:r[e],enumerable:!0})},j=(s,r,e,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of R(r))!U.call(s,n)&&n!==e&&x(s,n,{get:()=>r[n],enumerable:!(t=T(r,n))||t.enumerable});return s};var B=s=>j(x({},"__esModule",{value:!0}),s);var W={};G(W,{default:()=>E});module.exports=B(W);var p=require("react"),A=require("@raycast/api");var g=require("crypto"),_=require("fs");var P="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",h="0123456789";var L=require("@raycast/api"),H=()=>{let{strength:s,length:r,maxWordLength:e,...t}=(0,L.getPreferenceValues)();return{...t,strength:parseInt(s,10),length:parseInt(r,10),maxWordLength:parseInt(e,10)}},m=H;function*I(...s){if(s.length===0)return;let r=s.map(t=>t[Symbol.iterator]()),e=r.map(t=>t.next());if(e.some(t=>t.done))throw new Error("Input contains an empty iterator.");for(let t=0;;){if(e[t].done){if(r[t]=s[t][Symbol.iterator](),e[t]=r[t].next(),++t>=r.length)return}else yield e.map(({value:n})=>n),t=0;e[t]=r[t].next()}}var a=class{constructor({strength:r,length:e}){this.strength=0;this.preferences=m();let[t,n]=this.generate({strength:r,length:e});this.password=t,this.strength=n}generate({strength:r,length:e}){let t=[];r&&(e=Math.ceil(r/this.entropy)),e=e;for(let n=0;n<e;n++)t.push(this.data[(0,g.randomInt)(this.data.length)]);return[t.join(""),Math.floor(this.entropy*t.length)]}get entropy(){return Math.log2(this.data.length)}get data(){return""}},u=class extends a{constructor(){super(...arguments);this.id="ascii";this.title="ASCII characters with punctuation"}get data(){return P+h+this.preferences.specialCharacters}},f=class extends a{constructor(){super(...arguments);this.id="alphanumeric";this.title="ASCII characters, no punctuation"}get data(){return P+h}},w=class extends a{constructor(){super(...arguments);this.id="hex";this.title="Hexadecimal characters"}get data(){return"0123456789abcdef"}},b=class extends a{constructor(){super(...arguments);this.id="numeric";this.title="Digits only"}get data(){return h}},d=class extends a{constructor(){super(...arguments);this.id="dictionary";this.title="Dictionary words";this.words=[]}password_by_iterations(e){let t=[];for(let n=0;n<e;n++){let o=this.data[(0,g.randomInt)(this.data.length)];t.push(o[0].toUpperCase()+o.substring(1)+Math.floor(Math.random()*9+1))}return[t.join(this.preferences.delimiter),Math.floor(this.entropy*e)]}password_by_length(e){let t=[],n=0;for(;n<e;){let o=this.data[(0,g.randomInt)(this.data.length)];t.push(o[0].toUpperCase()+o.substring(1)+Math.floor(Math.random()*9+1)),n+=o.length+2}return[t.join(this.preferences.delimiter),Math.floor(this.entropy*t.length)]}generate({strength:e,length:t}){return e?this.password_by_iterations(Math.ceil(e/this.entropy)):this.password_by_length(t)}get data(){if(this.words)return this.words;try{return this.words=(0,_.readFileSync)("/usr/share/dict/words","utf8").split(/\r?\n/),this.words}catch(e){throw console.error(e),e}}},y=class extends d{constructor(){super(...arguments);this.id="pronounceable";this.title="Pronounceable, (mostly) nonsense words"}get data(){let e=["b","bl","br","cl","cr","d","dr","f","fl","fr","g","gl","gr","h","j","k","l","m","n","p","pl","pr","r","s","sk","sl","sm","sn","sp","st","str","sw","t","tr","v","w","y","z"],t=["b","ct","d","f","ft","g","h","k","l","m","mp","n","nd","ng","nk","nt","p","pt","r","sk","sp","ss","st","t","v","w","y","z"],n=["a","e","i","o","u"];this.words=[];for(let o of I(e,n,t))this.words.push(o.join(""));return this.words}};var c=require("@raycast/api");var k=s=>{let r=[{bits:28,color:"#e44759",icon:"\u{1F480}",name:"very_weak"},{bits:35,color:"#f8b32d",icon:"\u{1F622}",name:"weak"},{bits:60,color:"#67a4d3",icon:"\u{1F610}",name:"reasonable"},{bits:128,color:"#33ccb1",icon:"\u{1F60E}",name:"strong"},{bits:1/0,color:"#33cc33",icon:"\u{1F929}",name:"very_strong"}],e=r[0].icon;for(let t of r)if(s<t.bits){e=t.icon;break}return{source:e}};var l=require("react/jsx-runtime"),N=({generator:s,generatePasswords:r})=>(0,l.jsx)(c.List.Item,{title:s.password,subtitle:`Length: ${s.password.length}`,accessories:[{text:s.title}],icon:k(s.strength),actions:(0,l.jsxs)(c.ActionPanel,{children:[(0,l.jsx)(c.Action.CopyToClipboard,{title:"Copy Password",content:s.password,onCopy:r}),(0,l.jsx)(c.Action.Paste,{content:s.password,onPaste:r})]})},s.id),v=N;var C=require("react/jsx-runtime");function E(){let[s,r]=(0,p.useState)(!0),[e,t]=(0,p.useState)(""),[n,o]=(0,p.useState)([]),{length:M}=m(),S=()=>{if(parseInt(e)>0||e===""){let i=parseInt(e,10)||M;o([new d({length:i}),new y({length:i}),new u({length:i}),new f({length:i}),new b({length:i}),new w({length:i})])}};return(0,p.useEffect)(()=>{S(),r(!1)},[e]),(0,C.jsx)(A.List,{isLoading:s,searchText:e,onSearchTextChange:t,searchBarPlaceholder:"Generate password of given length",children:n.map(i=>(0,C.jsx)(v,{generator:i,generatePasswords:S},i.id))})}
